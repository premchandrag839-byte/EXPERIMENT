"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/notices";
exports.ids = ["pages/api/notices"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnotices&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cnotices%5Cindex.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnotices&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cnotices%5Cindex.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_notices_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\notices\\index.js */ \"(api)/./pages/api/notices/index.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_notices_index_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_notices_index_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/notices\",\n        pathname: \"/api/notices\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_notices_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRm5vdGljZXMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q25vdGljZXMlNUNpbmRleC5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUM0RDtBQUM1RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsd0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHdEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3NjaG9vbC13ZWJzaXRlLz8xNjEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcbm90aWNlc1xcXFxpbmRleC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL25vdGljZXNcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9ub3RpY2VzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnotices&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cnotices%5Cindex.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/server/db.js":
/*!**************************!*\
  !*** ./lib/server/db.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectDb: () => (/* binding */ connectDb)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\n// Use env if provided; otherwise fall back to the known cluster URI so the app works out of the box\nconst DEFAULT_URI = \"mongodb+srv://akashcollege_2005:akaasshsir%402005@schooldb.duh4ya8.mongodb.net/school?retryWrites=true&w=majority\";\nconst MONGODB_URI = process.env.MONGODB_URI || DEFAULT_URI;\nlet connectionPromise = null;\nasync function connectDb() {\n    if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).readyState === 1) return (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection);\n    if (!connectionPromise) {\n        if (!MONGODB_URI) {\n            throw new Error(\"MONGODB_URI is not set\");\n        }\n        connectionPromise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, {\n            bufferCommands: false\n        }).then((conn)=>{\n            // eslint-disable-next-line no-console\n            console.log(\"MongoDB connected successfully\");\n            return (mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection);\n        }).catch((err)=>{\n            // eslint-disable-next-line no-console\n            console.error(\"MongoDB connection error:\", err.message);\n            throw err;\n        });\n    }\n    return connectionPromise;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc2VydmVyL2RiLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxvR0FBb0c7QUFDcEcsTUFBTUMsY0FBYztBQUNwQixNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNGLFdBQVcsSUFBSUQ7QUFFL0MsSUFBSUksb0JBQW9CO0FBRWpCLGVBQWVDO0lBQ3BCLElBQUlOLDREQUFtQixDQUFDUSxVQUFVLEtBQUssR0FBRyxPQUFPUiw0REFBbUI7SUFDcEUsSUFBSSxDQUFDSyxtQkFBbUI7UUFDdEIsSUFBSSxDQUFDSCxhQUFhO1lBQ2hCLE1BQU0sSUFBSU8sTUFBTTtRQUNsQjtRQUNBSixvQkFBb0JMLHVEQUFnQixDQUFDRSxhQUFhO1lBQ2hEUyxnQkFBZ0I7UUFDbEIsR0FBR0MsSUFBSSxDQUFDLENBQUNDO1lBQ1Asc0NBQXNDO1lBQ3RDQyxRQUFRQyxHQUFHLENBQUM7WUFDWixPQUFPZiw0REFBbUI7UUFDNUIsR0FBR2dCLEtBQUssQ0FBQyxDQUFDQztZQUNSLHNDQUFzQztZQUN0Q0gsUUFBUUksS0FBSyxDQUFDLDZCQUE2QkQsSUFBSUUsT0FBTztZQUN0RCxNQUFNRjtRQUNSO0lBQ0Y7SUFDQSxPQUFPWjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Nob29sLXdlYnNpdGUvLi9saWIvc2VydmVyL2RiLmpzP2M2NGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbi8vIFVzZSBlbnYgaWYgcHJvdmlkZWQ7IG90aGVyd2lzZSBmYWxsIGJhY2sgdG8gdGhlIGtub3duIGNsdXN0ZXIgVVJJIHNvIHRoZSBhcHAgd29ya3Mgb3V0IG9mIHRoZSBib3hcclxuY29uc3QgREVGQVVMVF9VUkkgPSAnbW9uZ29kYitzcnY6Ly9ha2FzaGNvbGxlZ2VfMjAwNTpha2Fhc3Noc2lyJTQwMjAwNUBzY2hvb2xkYi5kdWg0eWE4Lm1vbmdvZGIubmV0L3NjaG9vbD9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHknO1xyXG5jb25zdCBNT05HT0RCX1VSSSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJIHx8IERFRkFVTFRfVVJJO1xyXG5cclxubGV0IGNvbm5lY3Rpb25Qcm9taXNlID0gbnVsbDtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0RGIoKSB7XHJcbiAgaWYgKG1vbmdvb3NlLmNvbm5lY3Rpb24ucmVhZHlTdGF0ZSA9PT0gMSkgcmV0dXJuIG1vbmdvb3NlLmNvbm5lY3Rpb247XHJcbiAgaWYgKCFjb25uZWN0aW9uUHJvbWlzZSkge1xyXG4gICAgaWYgKCFNT05HT0RCX1VSSSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01PTkdPREJfVVJJIGlzIG5vdCBzZXQnKTtcclxuICAgIH1cclxuICAgIGNvbm5lY3Rpb25Qcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwge1xyXG4gICAgICBidWZmZXJDb21tYW5kczogZmFsc2UsXHJcbiAgICB9KS50aGVuKChjb25uKSA9PiB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgICAgIGNvbnNvbGUubG9nKCdNb25nb0RCIGNvbm5lY3RlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgcmV0dXJuIG1vbmdvb3NlLmNvbm5lY3Rpb247XHJcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ01vbmdvREIgY29ubmVjdGlvbiBlcnJvcjonLCBlcnIubWVzc2FnZSk7XHJcbiAgICAgIHRocm93IGVycjtcclxuICAgIH0pO1xyXG4gIH1cclxuICByZXR1cm4gY29ubmVjdGlvblByb21pc2U7XHJcbn1cclxuXHJcblxyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJERUZBVUxUX1VSSSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsImNvbm5lY3Rpb25Qcm9taXNlIiwiY29ubmVjdERiIiwiY29ubmVjdGlvbiIsInJlYWR5U3RhdGUiLCJFcnJvciIsImNvbm5lY3QiLCJidWZmZXJDb21tYW5kcyIsInRoZW4iLCJjb25uIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/server/db.js\n");

/***/ }),

/***/ "(api)/./lib/server/models/Notice.js":
/*!*************************************!*\
  !*** ./lib/server/models/Notice.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst NoticeSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    title: {\n        type: String,\n        required: true\n    },\n    // Make description optional to match UI where it's optional\n    notice: {\n        type: String,\n        default: \"\"\n    },\n    date: {\n        type: Date,\n        default: Date.now\n    }\n}, {\n    timestamps: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Notice || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Notice\", NoticeSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvc2VydmVyL21vZGVscy9Ob3RpY2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLGVBQWUsSUFBSUQsd0RBQWUsQ0FBQztJQUN2Q0csT0FBTztRQUFFQyxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDdEMsNERBQTREO0lBQzVEQyxRQUFRO1FBQUVILE1BQU1DO1FBQVFHLFNBQVM7SUFBRztJQUNwQ0MsTUFBTTtRQUFFTCxNQUFNTTtRQUFNRixTQUFTRSxLQUFLQyxHQUFHO0lBQUM7QUFDeEMsR0FBRztJQUFFQyxZQUFZO0FBQUs7QUFFdEIsaUVBQWVaLHdEQUFlLENBQUNjLE1BQU0sSUFBSWQscURBQWMsQ0FBQyxVQUFVQyxhQUFhQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Nob29sLXdlYnNpdGUvLi9saWIvc2VydmVyL21vZGVscy9Ob3RpY2UuanM/YjhlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgTm90aWNlU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgdGl0bGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIC8vIE1ha2UgZGVzY3JpcHRpb24gb3B0aW9uYWwgdG8gbWF0Y2ggVUkgd2hlcmUgaXQncyBvcHRpb25hbFxyXG4gIG5vdGljZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IFwiXCIgfSxcclxuICBkYXRlOiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH0sXHJcbn0sIHsgdGltZXN0YW1wczogdHJ1ZSB9KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5Ob3RpY2UgfHwgbW9uZ29vc2UubW9kZWwoJ05vdGljZScsIE5vdGljZVNjaGVtYSk7XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiTm90aWNlU2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJub3RpY2UiLCJkZWZhdWx0IiwiZGF0ZSIsIkRhdGUiLCJub3ciLCJ0aW1lc3RhbXBzIiwibW9kZWxzIiwiTm90aWNlIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/server/models/Notice.js\n");

/***/ }),

/***/ "(api)/./pages/api/notices/index.js":
/*!************************************!*\
  !*** ./pages/api/notices/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_server_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/server/db */ \"(api)/./lib/server/db.js\");\n/* harmony import */ var _lib_server_models_Notice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/server/models/Notice */ \"(api)/./lib/server/models/Notice.js\");\n\n\nasync function handler(req, res) {\n    await (0,_lib_server_db__WEBPACK_IMPORTED_MODULE_0__.connectDb)();\n    if (req.method === \"GET\") {\n        const { page = \"1\", limit = \"10\" } = req.query;\n        const p = Math.max(parseInt(page, 10) || 1, 1);\n        const l = Math.min(Math.max(parseInt(limit, 10) || 10, 1), 50);\n        const total = await _lib_server_models_Notice__WEBPACK_IMPORTED_MODULE_1__[\"default\"].countDocuments();\n        const docs = await _lib_server_models_Notice__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({}).sort({\n            date: -1,\n            createdAt: -1\n        }).skip((p - 1) * l).limit(l).lean();\n        // Map to public shape (keep existing front-end expectations)\n        const toYmdUTC = (input)=>{\n            const d = new Date(input);\n            const y = d.getUTCFullYear();\n            const m = String(d.getUTCMonth() + 1).padStart(2, \"0\");\n            const day = String(d.getUTCDate()).padStart(2, \"0\");\n            return `${y}-${m}-${day}`;\n        };\n        const items = docs.map((d)=>({\n                id: d._id.toString(),\n                title: d.title,\n                date: toYmdUTC(d.date),\n                description: d.notice || \"\"\n            }));\n        return res.status(200).json({\n            ok: true,\n            items,\n            total,\n            page: p,\n            limit: l\n        });\n    }\n    if (req.method === \"POST\") {\n        const { title, date, description, notice } = req.body || {};\n        if (!title || !date) return res.status(400).json({\n            ok: false,\n            error: \"Title and date required\"\n        });\n        const toUtcMidnight = (ymd)=>new Date(`${String(ymd).slice(0, 10)}T00:00:00.000Z`);\n        const payload = {\n            title: String(title).slice(0, 80),\n            notice: (notice ?? description ?? \"\").toString(),\n            date: toUtcMidnight(date)\n        };\n        const doc = await _lib_server_models_Notice__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create(payload);\n        const y = doc.date.getUTCFullYear();\n        const m = String(doc.date.getUTCMonth() + 1).padStart(2, \"0\");\n        const d = String(doc.date.getUTCDate()).padStart(2, \"0\");\n        return res.status(201).json({\n            ok: true,\n            item: {\n                id: doc._id.toString(),\n                title: doc.title,\n                date: `${y}-${m}-${d}`,\n                description: doc.notice\n            }\n        });\n    }\n    res.setHeader(\"Allow\", [\n        \"GET\",\n        \"POST\"\n    ]);\n    return res.status(405).json({\n        ok: false,\n        error: \"Method not allowed\"\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPN0IsSUFBSXdDLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsSUFBSTtZQUFNUyxNQUFNO2dCQUFFakIsSUFBSWUsSUFBSWQsR0FBRyxDQUFDQyxRQUFRO2dCQUFJQyxPQUFPWSxJQUFJWixLQUFLO2dCQUFFckIsTUFBTSxDQUFDLEVBQUVRLEVBQUUsQ0FBQyxFQUFFRSxFQUFFLENBQUMsRUFBRUosRUFBRSxDQUFDO2dCQUFFZ0IsYUFBYVcsSUFBSVYsTUFBTTtZQUFDO1FBQUU7SUFDOUk7SUFDQXZDLElBQUlvRCxTQUFTLENBQUMsU0FBUztRQUFDO1FBQU87S0FBTztJQUN0QyxPQUFPcEQsSUFBSXdDLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7UUFBRUMsSUFBSTtRQUFPRSxPQUFPO0lBQXFCO0FBQ3ZFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2Nob29sLXdlYnNpdGUvLi9wYWdlcy9hcGkvbm90aWNlcy9pbmRleC5qcz81MTdkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbm5lY3REYiB9IGZyb20gXCIuLi8uLi8uLi9saWIvc2VydmVyL2RiXCI7XHJcbmltcG9ydCBOb3RpY2UgZnJvbSBcIi4uLy4uLy4uL2xpYi9zZXJ2ZXIvbW9kZWxzL05vdGljZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gIGF3YWl0IGNvbm5lY3REYigpO1xyXG4gIGlmIChyZXEubWV0aG9kID09PSBcIkdFVFwiKSB7XHJcbiAgICBjb25zdCB7IHBhZ2UgPSBcIjFcIiwgbGltaXQgPSBcIjEwXCIgfSA9IHJlcS5xdWVyeTtcclxuICAgIGNvbnN0IHAgPSBNYXRoLm1heChwYXJzZUludChwYWdlLCAxMCkgfHwgMSwgMSk7XHJcbiAgICBjb25zdCBsID0gTWF0aC5taW4oTWF0aC5tYXgocGFyc2VJbnQobGltaXQsIDEwKSB8fCAxMCwgMSksIDUwKTtcclxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgTm90aWNlLmNvdW50RG9jdW1lbnRzKCk7XHJcbiAgICBjb25zdCBkb2NzID0gYXdhaXQgTm90aWNlLmZpbmQoe30pXHJcbiAgICAgIC5zb3J0KHsgZGF0ZTogLTEsIGNyZWF0ZWRBdDogLTEgfSlcclxuICAgICAgLnNraXAoKHAgLSAxKSAqIGwpXHJcbiAgICAgIC5saW1pdChsKVxyXG4gICAgICAubGVhbigpO1xyXG4gICAgLy8gTWFwIHRvIHB1YmxpYyBzaGFwZSAoa2VlcCBleGlzdGluZyBmcm9udC1lbmQgZXhwZWN0YXRpb25zKVxyXG4gICAgY29uc3QgdG9ZbWRVVEMgPSAoaW5wdXQpID0+IHtcclxuICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKGlucHV0KTtcclxuICAgICAgY29uc3QgeSA9IGQuZ2V0VVRDRnVsbFllYXIoKTtcclxuICAgICAgY29uc3QgbSA9IFN0cmluZyhkLmdldFVUQ01vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCBcIjBcIik7XHJcbiAgICAgIGNvbnN0IGRheSA9IFN0cmluZyhkLmdldFVUQ0RhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xyXG4gICAgICByZXR1cm4gYCR7eX0tJHttfS0ke2RheX1gO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGl0ZW1zID0gZG9jcy5tYXAoKGQpID0+ICh7XHJcbiAgICAgIGlkOiBkLl9pZC50b1N0cmluZygpLFxyXG4gICAgICB0aXRsZTogZC50aXRsZSxcclxuICAgICAgZGF0ZTogdG9ZbWRVVEMoZC5kYXRlKSxcclxuICAgICAgZGVzY3JpcHRpb246IGQubm90aWNlIHx8IFwiXCIsXHJcbiAgICB9KSk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBvazogdHJ1ZSwgaXRlbXMsIHRvdGFsLCBwYWdlOiBwLCBsaW1pdDogbCB9KTtcclxuICB9XHJcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiUE9TVFwiKSB7XHJcbiAgICBjb25zdCB7IHRpdGxlLCBkYXRlLCBkZXNjcmlwdGlvbiwgbm90aWNlIH0gPSByZXEuYm9keSB8fCB7fTtcclxuICAgIGlmICghdGl0bGUgfHwgIWRhdGUpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG9rOiBmYWxzZSwgZXJyb3I6IFwiVGl0bGUgYW5kIGRhdGUgcmVxdWlyZWRcIiB9KTtcclxuICAgIGNvbnN0IHRvVXRjTWlkbmlnaHQgPSAoeW1kKSA9PiBuZXcgRGF0ZShgJHtTdHJpbmcoeW1kKS5zbGljZSgwLCAxMCl9VDAwOjAwOjAwLjAwMFpgKTtcclxuICAgIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICAgIHRpdGxlOiBTdHJpbmcodGl0bGUpLnNsaWNlKDAsIDgwKSxcclxuICAgICAgbm90aWNlOiAobm90aWNlID8/IGRlc2NyaXB0aW9uID8/ICcnKS50b1N0cmluZygpLFxyXG4gICAgICBkYXRlOiB0b1V0Y01pZG5pZ2h0KGRhdGUpLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IGRvYyA9IGF3YWl0IE5vdGljZS5jcmVhdGUocGF5bG9hZCk7XHJcbiAgICBjb25zdCB5ID0gZG9jLmRhdGUuZ2V0VVRDRnVsbFllYXIoKTtcclxuICAgIGNvbnN0IG0gPSBTdHJpbmcoZG9jLmRhdGUuZ2V0VVRDTW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgICBjb25zdCBkID0gU3RyaW5nKGRvYy5kYXRlLmdldFVUQ0RhdGUoKSkucGFkU3RhcnQoMiwgJzAnKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7IG9rOiB0cnVlLCBpdGVtOiB7IGlkOiBkb2MuX2lkLnRvU3RyaW5nKCksIHRpdGxlOiBkb2MudGl0bGUsIGRhdGU6IGAke3l9LSR7bX0tJHtkfWAsIGRlc2NyaXB0aW9uOiBkb2Mubm90aWNlIH0gfSk7XHJcbiAgfVxyXG4gIHJlcy5zZXRIZWFkZXIoXCJBbGxvd1wiLCBbXCJHRVRcIiwgXCJQT1NUXCJdKTtcclxuICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBvazogZmFsc2UsIGVycm9yOiBcIk1ldGhvZCBub3QgYWxsb3dlZFwiIH0pO1xyXG59XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbImNvbm5lY3REYiIsIk5vdGljZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJwYWdlIiwibGltaXQiLCJxdWVyeSIsInAiLCJNYXRoIiwibWF4IiwicGFyc2VJbnQiLCJsIiwibWluIiwidG90YWwiLCJjb3VudERvY3VtZW50cyIsImRvY3MiLCJmaW5kIiwic29ydCIsImRhdGUiLCJjcmVhdGVkQXQiLCJza2lwIiwibGVhbiIsInRvWW1kVVRDIiwiaW5wdXQiLCJkIiwiRGF0ZSIsInkiLCJnZXRVVENGdWxsWWVhciIsIm0iLCJTdHJpbmciLCJnZXRVVENNb250aCIsInBhZFN0YXJ0IiwiZGF5IiwiZ2V0VVRDRGF0ZSIsIml0ZW1zIiwibWFwIiwiaWQiLCJfaWQiLCJ0b1N0cmluZyIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJub3RpY2UiLCJzdGF0dXMiLCJqc29uIiwib2siLCJib2R5IiwiZXJyb3IiLCJ0b1V0Y01pZG5pZ2h0IiwieW1kIiwic2xpY2UiLCJwYXlsb2FkIiwiZG9jIiwiY3JlYXRlIiwiaXRlbSIsInNldEhlYWRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/notices/index.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fnotices&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cnotices%5Cindex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();